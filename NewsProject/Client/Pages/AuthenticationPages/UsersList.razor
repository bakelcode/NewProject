@page "/usersList"
@attribute [Authorize]
<PageTitle>Users List</PageTitle>

@if(_users == null)
{
    <span class="loader"></span>
}
else
{
    <div class="card">
    <div class="card-header">
        <h3>Users List</h3>
    </div>
    <div class="card-body">
        <table class="table table-hover table-striped">
            <thead>
                <tr>
                    <th>
                        User name
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Roles
                    </th>
                    <th>
                        Manage Roles
                    </th>
                    <th>
                        FindByName
                    </th>
                    <th>
                        FindByEmail
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var user in _users)
                {
                    <tr>
                        <td>@user.UserName</td>
                    <td>@user.Email</td>
                    <td>@user.UserRoles</td>
                    <td><a class="btn btn-info" href="/getuserroles/@user.Id">Manage Roles</a></td>
                    <td><a class="btn btn-info" href="/getuserbyname/@user.UserName">Get by name</a></td>
                    <td><a class="btn btn-info" href="/getuserbyemail/@user.Email">Get by email</a></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div> 
}